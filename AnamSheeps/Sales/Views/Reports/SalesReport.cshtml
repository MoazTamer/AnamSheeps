@{
    ViewData["Title"] = "تقرير المبيعات";
    ViewData["Page"] = "تقرير المبيعات";
}

<link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
<link href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.bootstrap5.min.css" rel="stylesheet" />

<style>

    .movement-table th {
        background-color: #f5f8fa;
        font-weight: 600;
    }

    .movement-table tbody tr:nth-child(odd) {
        background-color: #f1ecfc;
    }

    .movement-table tbody tr:nth-child(even) {
        background-color: #ffffff;
    }

    .movement-table tbody tr:hover {
        background-color: #e3f2fd !important;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        transition: all 0.2s ease;
    }

    .movement-table {
        border: 1px solid #dee2e6;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

        .movement-table th,
        .movement-table td {
            border: 1px solid #dee2e6;
            padding: 12px 8px;
            transition: all 0.2s ease;
        }

        .movement-table thead th {
            /* background: linear-gradient(112.14deg, #00D2FF 0%, #3A7BD5 100%); */
            /* color: white; */
            border-bottom: 2px solid #3A7BD5;
            text-align: center;
        }

    .totals-row {
        background-color: #fff4de !important;
        font-weight: bold;
        border-top: 2px solid #ffc107 !important;
    }

        .totals-row:hover {
            background-color: #ffe8b2 !important;
        }

    .section-header {
        background: linear-gradient(112.14deg, #00D2FF 0%, #3A7BD5 100%);
        color: white;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
    }

    .card-header h3 {
        margin: 0;
        color: white;
    }

    .filter-card {
        background: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 20px;
    }

    .date-filter {
        display: flex;
        gap: 15px;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
    }

    .date-input-group {
        display: flex;
        align-items: center;
        gap: 8px;
    }

        .date-input-group label {
            margin: 0;
            font-weight: 600;
            color: #495057;
            min-width: 70px;
        }

    .btn-filter {
        background: linear-gradient(112.14deg, #00D2FF 0%, #3A7BD5 100%);
        border: none;
        color: white;
        padding: 8px 20px;
        border-radius: 6px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

        .btn-filter:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(58, 123, 213, 0.3);
        }

    .btn-reset {
        background: #6c757d;
        border: none;
        color: white;
        padding: 8px 20px;
        border-radius: 6px;
        font-weight: 600;
        transition: all 0.3s ease;
    }

        .btn-reset:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(108, 117, 125, 0.3);
        }

    .dataTables_wrapper .dataTables_filter {
        float: left !important;
    }

    .dataTables_wrapper .dataTables_length {
        float: right !important;
    }

    .dataTables_wrapper .dataTables_filter {
        float: right !important;
        margin-bottom: 15px;
    }

    .movement-table th,
    .movement-table td {
        font-size: 1.25rem !important; 
        padding: 16px 12px !important; 
    }

    .movement-table td {
        font-weight: bold !important;
    }

    .section-header h3 {
        font-size: 1.8rem !important;
    }

    /* تكبير الأزرار */
    .btn-filter, .btn-reset {
        font-size: 1.2rem !important;
        padding: 10px 24px !important;
    }

    /* تكبير الفيلتر inputs */
    .date-input-group input  {
        font-size: 1.2rem !important;
        height: 42px !important;
    }

    .dataTables_filter input {
        height: 45px;
        font-size: 1.3rem;
        font-weight: bold;
        padding: 6px 12px; 
    }

    .dataTables_filter label {
        font-size: 1.2rem;
        font-weight: bold;
    }


</style>

<div class="card shadow-sm mt-5">
    <div class="card-header section-header py-4">
        <h3 class="card-title mb-0">تقرير المبيعات</h3>
    </div>

    <div class="card-body py-4">
        <div class="filter-card">
            <div class="date-filter">
                <div class="date-input-group">
                    <label for="fromDate">من تاريخ:</label>
                    <input type="date" id="fromDate" class="form-control form-control-sm" style="width: 180px;">
                </div>
                <div class="date-input-group">
                    <label for="toDate">إلى تاريخ:</label>
                    <input type="date" id="toDate" class="form-control form-control-sm" style="width: 180px;">
                </div>
                <div class="date-input-group">
                    <button type="button" id="filterBtn" class="btn btn-filter">
                        <i class="fas fa-filter"></i> تصفية
                    </button>
                    <button type="button" id="resetBtn" class="btn btn-reset">
                        <i class="fas fa-redo"></i> إعادة تعيين
                    </button>
                </div>
            </div>
        </div>

        <div class="table-responsive">
            <table id="salesTable" class="table table-bordered movement-table text-center align-middle" style="width:100%">
                <thead>
                    <tr>
                        <th>م</th>
                        <th>التاريخ</th>
                        <th>المندوب</th>
                        <th>المنتج</th>
                        <th>الكمية</th>
                        <th>السعر</th>
                        <th>الإجمالي</th>
                        <th>طريقة الدفع</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
                <tfoot>
                    <tr class="totals-row">
                        <td colspan="4" class="text-center fw-bold">الإجمالــي</td>
                        <td id="totalQuantity">0</td>
                        <td></td>
                        <td id="totalAmount">0.00</td>
                        <td></td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.2/js/buttons.print.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <script src="~/js/SalesReport.js"></script>

}
