@using System.Security.Claims

@{
    var userType = User.FindFirst(ClaimTypes.Role)?.Value;
}

@{
    ViewData["Page"] = "الرئيسية";
}

<style>
    .farm-title {
        font-size: 36px !important;
        color: #7a0026 !important;
        letter-spacing: 1px;
        padding-top: 24px;
    }

</style>

<div class="page-title text-center">
    <h1 class="page-heading text-dark fw-bold m-0 farm-title">
        مزرعة نخبة الأنعام
    </h1>
</div>

<!--begin::Content wrapper-->
<div class="d-flex flex-column flex-column-fluid">
    <!--begin::Toolbar-->
    <div id="kt_app_toolbar" class="app-toolbar pt-1 pt-lg-10">
        <!--begin::Toolbar container-->
        <div id="kt_app_toolbar_container" class="app-container container-fluid d-flex align-items-stretch">
            <!--begin::Toolbar wrapper-->

            <div class="app-toolbar-wrapper d-flex flex-stack flex-wrap gap-4 w-100">
                <!--begin::Page title-->
                

                <!--end::Page title-->
            </div>
            <!--end::Toolbar wrapper-->
        </div>
        <!--end::Toolbar container-->
    </div>
    <!--end::Toolbar-->
    <!--begin::Content-->
    <div id="kt_app_content" class="app-content flex-column-fluid">
        <!--begin::Content container-->
        <div id="kt_app_content_container" class="app-container container-fluid">

        </div>
        <!--end::Content container-->
    </div>
    <!--end::Content-->
</div>


<!--begin::Daily Movement Card-->
@if (userType == "مندوب" || userType == "إدارة" || User.IsInRole("إدارة") || User.IsInRole("مندوب")||
        User.HasClaim("Mandub", "True")

)
{
    <div class="card mb-5 mb-xl-10 shadow-lg rounded-4 border-0 overflow-hidden">
        <div class="card-body text-center py-12 px-9" style="background: linear-gradient(112.14deg, #00D2FF 0%, #3A7BD5 100%);">

            <div class="symbol symbol-100px mb-5">
                <i class="ki-duotone ki-chart-simple text-white fs-5x">
                    <span class="path1"></span>
                    <span class="path2"></span>
                    <span class="path3"></span>
                    <span class="path4"></span>
                </i>
            </div>

            <h1 class="fs-2hx fw-bold text-white mb-4">بيان الحركة اليومية</h1>
            <p class="text-white fs-5 fw-semibold mb-7">
                سجل حركة اليوم - @DateTime.Today.ToString("dddd، dd MMMM yyyy", new System.Globalization.CultureInfo("ar-EG"))
            </p>

            @if (userType == "مندوب" || User.HasClaim("Mandub", "True"))
            {
                <a href="@Url.Action("Index", "DailyMovement")" class="btn btn-light btn-lg fw-bold px-8 py-3 rounded-3">
                    فتح البيان
                </a>
            }

            @if (User.IsInRole("إدارة"))
            {
                <div class="mt-6 text-center">
                    <a href="@Url.Action("DailyMovementsTracking", "ManagementDashboard")"
                       class="btn btn-light btn-lg fw-semibold px-8 py-3 rounded-3 fw-bold"
                       style="background-color: white; color:#3A7BD5; border:none;">
                        متابعة المندوبين
                    </a>
                </div>

            }
        </div>
    </div>
}
<!--end::Daily Movement Card-->
<!--begin::Warehouse Movement Card-->
@* @if (userType == "أمين مستودع" || userType == "إدارة" || User.IsInRole("إدارة") || User.IsInRole("أمين مستودع")) *@
  
@if (
        userType == "أمين مستودع" ||
        userType == "إدارة" ||
        User.IsInRole("إدارة") ||
        User.IsInRole("أمين مستودع") ||
        User.HasClaim("Amin", "True")
    )
{
    <div class="card mb-5 mb-xl-10 shadow-lg rounded-4 border-0 overflow-hidden">
        <div class="card-body text-center py-12 px-9" style="background: linear-gradient(112.14deg, #3A7BD5 0%, #667eea 100%);">

            <div class="symbol symbol-100px mb-5">
                <i class="ki-duotone ki-package text-white fs-5x">
                    <span class="path1"></span>
                    <span class="path2"></span>
                    <span class="path3"></span>
                </i>
            </div>

            <h1 class="fs-2hx fw-bold text-white mb-4">بيان المستودع اليومي</h1>
            <p class="text-white fs-5 fw-semibold mb-7">
                سجل حركة المستودع اليوم - @DateTime.Today.ToString("dddd، dd MMMM yyyy", new System.Globalization.CultureInfo("ar-EG"))
            </p>

            @if (userType == "أمين مستودع" || User.HasClaim("Amin", "True"))
            {
                <a href="@Url.Action("Index", "WarehouseMovement")" class="btn btn-light btn-lg fw-bold px-8 py-3 rounded-3">
                    فتح بيان المستودع
                </a>
            }

            @if (User.IsInRole("إدارة"))
            {
                <div class="mt-6 text-center">
                    <a href="@Url.Action("WarehouseMovementsTracking", "ManagementDashboard")"
                       class="btn btn-light btn-lg fw-semibold px-8 py-3 rounded-3 fw-bold"
                       style="background-color: white; color:#3A7BD5; border:none;">
                        متابعة المستودعات
                    </a>
                </div>

            }
        </div>
    </div>
}
<!--end::Warehouse Movement Card-->
<!--begin::Previous Reports Card-->
@* @if (
    userType == "مندوب" ||
    userType == "أمين مستودع" ||
    userType == "إدارة" ||
    User.IsInRole("مندوب") ||
    User.IsInRole("أمين مستودع") ||
    User.IsInRole("إدارة") ||
    User.HasClaim("Mandub", "True") ||
    User.HasClaim("Amin", "True")
) *@
@if (
    userType == "مندوب" ||
    User.IsInRole("مندوب") ||
    User.HasClaim("Mandub", "True") ||
    User.HasClaim("Amin", "True")
)
{
    <div class="card mb-5 mb-xl-10 shadow-lg rounded-4 border-0 overflow-hidden">
        <div class="card-body text-center py-12 px-9"
             style="background: linear-gradient(112.14deg, #667eea 0%, #764ba2 100%);">

            <div class="symbol symbol-100px mb-5">
                <i class="ki-duotone ki-time text-white fs-5x">
                    <span class="path1"></span>
                    <span class="path2"></span>
                </i>
            </div>

            <h1 class="fs-2hx fw-bold text-white mb-4">التقارير السابقة</h1>

            <p class="text-white fs-5 fw-semibold mb-7">
                عرض جميع التقارير السابقة حسب التاريخ والمستخدم
            </p>

            <a href="@Url.Action("PreviousDailyMovement", "Home")"
               class="btn btn-light btn-lg fw-bold px-8 py-3 rounded-3">
                فتح التقارير
            </a>
        </div>
    </div>
}
<!--end::Previous Reports Card-->
<!--begin::Row for reports cards-->
<div class="row g-6 mb-6">

    <!--begin::Sales Reports Card-->
    @if (userType == "إدارة" || User.IsInRole("إدارة") || userType == "مندوب" || User.IsInRole("مندوب"))
    {
        <div class="col-xl-6">
            <div class="card shadow-lg rounded-4 border-0 overflow-hidden h-100">
                <div class="card-body text-center py-10 px-8" style="background: linear-gradient(112.14deg, #4CAF50 0%, #2E7D32 100%);">
                    <div class="symbol symbol-90px mb-5">
                        <i class="ki-duotone ki-chart-line text-white fs-2hx">
                            <span class="path1"></span>
                            <span class="path2"></span>
                            <span class="path3"></span>
                        </i>
                    </div>

                    <h2 class="fs-1hx fw-bold text-white mb-4">تقرير المبيعات</h2>
                    <p class="text-white fs-5 fw-semibold mb-6">
                        عرض تقارير المبيعات   
                    </p>

                    <a href="@Url.Action("SalesReport", "Reports")"
                       class="btn btn-light btn-lg fw-bold px-6 py-3 rounded-3">
                        <i class="ki-duotone ki-chart-pie fs-2 me-2 text-success"></i>
                        فتح تقرير المبيعات
                    </a>
                </div>
            </div>
        </div>
    }
    <!--end::Sales Reports Card-->
    <!--begin::Purchases Reports Card-->
    @if (userType == "إدارة" || User.IsInRole("إدارة") || userType == "مندوب" || User.IsInRole("مندوب"))

    {
        <div class="col-xl-6">
            <div class="card shadow-lg rounded-4 border-0 overflow-hidden h-100">
                <div class="card-body text-center py-10 px-8" style="background: linear-gradient(112.14deg, #FF9800 0%, #EF6C00 100%);">
                    <div class="symbol symbol-90px mb-5">
                        <i class="ki-duotone ki-cart text-white fs-2hx">
                            <span class="path1"></span>
                            <span class="path2"></span>
                            <span class="path3"></span>
                        </i>
                    </div>

                    <h2 class="fs-1hx fw-bold text-white mb-4">تقرير المشتريات</h2>
                    <p class="text-white fs-5 fw-semibold mb-6">
                        متابعة المشتريات
                    </p>

                    <a href="@Url.Action("PurchasesReport", "Reports")"
                       class="btn btn-light btn-lg fw-bold px-6 py-3 rounded-3">
                        <i class="ki-duotone ki-chart-simple fs-2 me-2 text-warning"></i>
                        فتح تقرير المشتريات
                    </a>
                </div>
            </div>
        </div>
    }
    <!--end::Purchases Reports Card-->

</div>
<!--end::Row for reports cards-->
<!--end::Content wrapper-->
@section Scripts {
    <!--begin::Vendors Javascript(used for this page only)-->
    <script src="/js/Home.js"></script>
    <!--end::Custom Javascript-->
}